<svg id="f8c55afe-a1b8-4d68-81d7-f7a5c763e80d" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 633.28"><path d="M26.2,20.51H1771.73c3.43,0,6.21,5.75,6.21,12.85V607.15c0,7.1-2.78,12.85-6.21,12.85H26.2c-3.42,0-6.2-5.75-6.2-12.85V33.36C20,26.26,22.78,20.51,26.2,20.51Z" style="fill:#f8f9fa;stroke:#dee2e6;stroke-width:2px"/><text transform="translate(621.92 55)" style="isolation:isolate;font-size:18px;fill:#2c3e50;font-family:Arial-BoldMT, Arial;font-weight:700">Memory Utilization<tspan x="160.01" y="0" style="letter-spacing:-0.037109375em"> </tspan><tspan x="164.35" y="0">Analysis: Block-per-</tspan><tspan x="338.4" y="0" style="letter-spacing:-0.07421875em">T</tspan><tspan x="348.06" y="0">ensor vs Layer-by-Layer</tspan></text><rect x="50" y="80" width="1700" height="100" rx="6" style="fill:#fff3e0;stroke:#ff9800;stroke-width:2px"/><text transform="translate(702.06 110)" style="isolation:isolate;font-size:16px;fill:#f57c00;font-family:Arial-BoldMT, Arial;font-weight:700">CLARIFIC<tspan x="74.66" y="0" style="letter-spacing:-0.07421875em">A</tspan><tspan x="85.02" y="0">TION: </tspan><tspan x="133.02" y="0" style="letter-spacing:-0.07421875em">T</tspan><tspan x="141.6" y="0">otal Memory Usage is IDENTICA</tspan><tspan x="386.1" y="0" style="letter-spacing:-0.01806640625em">L</tspan></text><text transform="translate(70 135)" style="isolation:isolate;font-size:12px;fill:#2c3e50;font-family:ArialMT, Arial">Both approaches allocate exactly the same amount of memor<tspan x="326.17" y="0" style="letter-spacing:-0.07421875em">y</tspan><tspan x="331.28" y="0">.</tspan><tspan x="334.62" y="0" style="letter-spacing:-0.01806640625em"> </tspan><tspan x="337.73" y="0">The di</tspan><tspan x="371.09" y="0" style="letter-spacing:-0.01806640625em">f</tspan><tspan x="374.2" y="0">ference is in HOW EFFECTIVE</tspan><tspan x="540.9" y="0" style="letter-spacing:-0.07421875em">L</tspan><tspan x="546.69" y="0" style="letter-spacing:-0.01806640625em">Y</tspan><tspan x="554.47" y="0" xml:space="preserve"> that memory is used by the CPU/cache system.</tspan></text><text transform="translate(70 155)" style="isolation:isolate;font-size:12px;fill:#2c3e50;font-family:ArialMT, Arial">&quot;Better memory utilization&quot; = Better cache utilization + Memory bandwidth e<tspan x="400.04" y="0" style="letter-spacing:-0.01806640625em">f</tspan><tspan x="403.15" y="0">ficiency + Reduced waste from cache misses</tspan></text><rect x="50" y="200" width="850" height="400" rx="6" style="fill:#ffeaa7;stroke:#fdcb6e;stroke-width:2px"/><text transform="translate(301.66 230)" style="isolation:isolate;font-size:16px;fill:#e17055;font-family:Arial-BoldMT, Arial;font-weight:700">BLOCK-PER-TENSOR: Poor Cache Utilization</text><text transform="translate(70 260)" style="isolation:isolate;font-size:12px;fill:#2c3e50;font-family:Arial-BoldMT, Arial;font-weight:700">Memory Layout:</text><rect x="90" y="270" width="400" height="30" style="fill:#3498db;stroke:#2980b9"/><text transform="translate(104.64 290)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">QK<tspan x="14.45" y="0" style="letter-spacing:-0.037109375em">V</tspan><tspan x="20.75" y="0">: [L0|L1|L2|L3|L4|L5|L6|L7|L8|L9|L10|L</tspan><tspan x="191.13" y="0" style="letter-spacing:-0.07421875em">1</tspan><tspan x="195.95" y="0">1]</tspan></text><rect x="90" y="310" width="400" height="30" style="fill:#2ecc71;stroke:#27ae60"/><text transform="translate(101.57 330)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">FC: [L0|L1|L2|L3|L4|L5|L6|L7|L8|L9|L10|L<tspan x="183.72" y="0" style="letter-spacing:-0.07421875em">1</tspan><tspan x="188.54" y="0">1]</tspan></text><rect x="90" y="350" width="400" height="30" style="fill:#e74c3c;stroke:#c0392b"/><text transform="translate(101.57 370)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">LN: [L0|L1|L2|L3|L4|L5|L6|L7|L8|L9|L10|L<tspan x="183.17" y="0" style="letter-spacing:-0.07421875em">1</tspan><tspan x="187.99" y="0">1]</tspan></text><text transform="translate(70 410)" style="isolation:isolate;font-size:12px;fill:#2c3e50;font-family:Arial-BoldMT, Arial;font-weight:700">Processing Layer 5:</text><rect x="90" y="420" width="60" height="20" style="fill:#74b9ff;stroke:#0984e3"/><text transform="translate(93.25 435)" style="isolation:isolate;font-size:8px;fill:#fff;font-family:ArialMT, Arial">Cache Line</text><rect x="90" y="450" width="400" height="30" style="fill:#ddd;stroke:#999"/><rect x="320" y="450" width="33" height="30" style="fill:#ff7675;stroke:#d63031"/><text transform="translate(104.64 470)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">QK<tspan x="14.45" y="0" style="letter-spacing:-0.037109375em">V</tspan><tspan x="20.75" y="0">: [L0|L1|L2|L3|L4|L5|L6|L7|L8|L9|L10|L</tspan><tspan x="191.13" y="0" style="letter-spacing:-0.07421875em">1</tspan><tspan x="195.95" y="0">1]</tspan></text><rect x="90" y="490" width="400" height="30" style="fill:#ddd;stroke:#999"/><rect x="320" y="490" width="33" height="30" style="fill:#ff7675;stroke:#d63031"/><text transform="translate(101.57 510)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">FC: [L0|L1|L2|L3|L4|L5|L6|L7|L8|L9|L10|L<tspan x="183.72" y="0" style="letter-spacing:-0.07421875em">1</tspan><tspan x="188.54" y="0">1]</tspan></text><rect x="90" y="530" width="400" height="30" style="fill:#ddd;stroke:#999"/><rect x="320" y="530" width="33" height="30" style="fill:#ff7675;stroke:#d63031"/><text transform="translate(101.57 550)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">LN: [L0|L1|L2|L3|L4|L5|L6|L7|L8|L9|L10|L<tspan x="183.17" y="0" style="letter-spacing:-0.07421875em">1</tspan><tspan x="187.99" y="0">1]</tspan></text><rect x="520" y="420" width="320" height="140" style="fill:#fab1a0;stroke:#e17055"/><text transform="translate(639.36 445)" style="isolation:isolate;font-size:11px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">CACHE <tspan x="42.17" y="0" style="letter-spacing:-0.05517578125em">W</tspan><tspan x="51.94" y="0">ASTE</tspan></text><text transform="translate(530 465)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">• CPU loads 64-byte cache lines</text><text transform="translate(530 480)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">• Only uses Layer 5 data (~8 bytes)</text><text transform="translate(530 495)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">• <tspan x="5.65" y="0" style="letter-spacing:-0.037109375em">W</tspan><tspan x="13.81" y="0">astes Layer 0-4, 6-</tspan><tspan x="88.85" y="0" style="letter-spacing:-0.07421875em">1</tspan><tspan x="93.19" y="0">1 data (56 bytes)</tspan></text><text transform="translate(530 510)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">• 87.5% of loaded data unused!</text><text transform="translate(530 530)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">Cache E<tspan x="34.52" y="0" style="letter-spacing:-0.01806640625em">f</tspan><tspan x="36.86" y="0">ficiency: ~12.5%</tspan></text><text transform="translate(530 545)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">Multiple cache misses per layer</text><rect x="950" y="200" width="800" height="400" rx="6" style="fill:#d5f4e6;stroke:#27ae60;stroke-width:2px"/><text transform="translate(1174.55 230)" style="isolation:isolate;font-size:16px;fill:#27ae60;font-family:Arial-BoldMT, Arial;font-weight:700">L<tspan x="9.77" y="0" style="letter-spacing:-0.091796875em">A</tspan><tspan x="19.86" y="0">YER-B</tspan><tspan x="69.64" y="0" style="letter-spacing:-0.05517578125em">Y</tspan><tspan x="79.43" y="0">-L</tspan><tspan x="94.53" y="0" style="letter-spacing:-0.091796875em">A</tspan><tspan x="104.62" y="0">YER: Excellent Cache Utilization</tspan></text><text transform="translate(970 260)" style="isolation:isolate;font-size:12px;fill:#2c3e50;font-family:Arial-BoldMT, Arial;font-weight:700">Memory Layout:</text><rect x="990" y="270" width="120" height="50" style="fill:#3498db;stroke:#2980b9"/><text transform="translate(1027.23 285)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">Layer 0</text><text transform="translate(1020.41 300)" style="isolation:isolate;font-size:8px;fill:#fff;font-family:ArialMT, Arial">QKV|FC|LN</text><text transform="translate(1022.66 315)" style="isolation:isolate;font-size:8px;fill:#fff;font-family:ArialMT, Arial">Acts|Grads</text><rect x="1120" y="270" width="120" height="50" style="fill:#2ecc71;stroke:#27ae60"/><text transform="translate(1157.23 285)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">Layer 1</text><text transform="translate(1150.41 300)" style="isolation:isolate;font-size:8px;fill:#fff;font-family:ArialMT, Arial">QKV|FC|LN</text><text transform="translate(1152.66 315)" style="isolation:isolate;font-size:8px;fill:#fff;font-family:ArialMT, Arial">Acts|Grads</text><text transform="translate(1236.96 300)" style="isolation:isolate;font-size:12px;fill:#7f8c8d;font-family:MyriadPro-Regular, Myriad Pro">...</text><rect x="1300" y="270" width="120" height="50" style="fill:#e74c3c;stroke:#c0392b"/><text transform="translate(1341.35 285)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">Layer 5</text><text transform="translate(1330.41 300)" style="isolation:isolate;font-size:8px;fill:#fff;font-family:ArialMT, Arial">QKV|FC|LN</text><text transform="translate(1332.66 315)" style="isolation:isolate;font-size:8px;fill:#fff;font-family:ArialMT, Arial">Acts|Grads</text><text transform="translate(1416.96 300)" style="isolation:isolate;font-size:12px;fill:#7f8c8d;font-family:MyriadPro-Regular, Myriad Pro">...</text><rect x="1480" y="270" width="120" height="50" style="fill:#9b59b6;stroke:#8e44ad"/><text transform="translate(1511.47 285)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">Layer <tspan x="25.01" y="0" style="letter-spacing:-0.07421875em">1</tspan><tspan x="29.35" y="0">1</tspan></text><text transform="translate(1510.41 300)" style="isolation:isolate;font-size:8px;fill:#fff;font-family:ArialMT, Arial">QKV|FC|LN</text><text transform="translate(1512.66 315)" style="isolation:isolate;font-size:8px;fill:#fff;font-family:ArialMT, Arial">Acts|Grads</text><text transform="translate(970 350)" style="isolation:isolate;font-size:12px;fill:#2c3e50;font-family:Arial-BoldMT, Arial;font-weight:700">Processing Layer 5:</text><rect x="990" y="360" width="600" height="40" style="fill:#e74c3c;stroke:#c0392b"/><text transform="translate(1016.5 385)" style="isolation:isolate;font-size:11px;fill:#fff;font-family:ArialMT, Arial">Layer 5: [QKV_weights|FC_weights|LN_weights|Activations|Gradients] -<tspan x="350.14" y="0" style="letter-spacing:-0.05517578125em"> </tspan><tspan x="352.59" y="0">AL</tspan><tspan x="366.05" y="0" style="letter-spacing:-0.037109375em">L</tspan><tspan x="371.75" y="0" xml:space="preserve"> CONTIGUOUS</tspan></text><rect x="990" y="420" width="600" height="120" style="fill:#00b894;stroke:#00a085"/><text transform="translate(1223.18 445)" style="isolation:isolate;font-size:11px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">OPTIMA<tspan x="42.78" y="0" style="letter-spacing:-0.01806640625em">L</tspan><tspan x="49.3" y="0" xml:space="preserve"> CACHE USAGE</tspan></text><text transform="translate(1000 465)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">• CPU loads 64-byte cache lines sequentially</text><text transform="translate(1000 480)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">• Uses<tspan x="26.16" y="0" style="letter-spacing:-0.05517578125em"> </tspan><tspan x="28.16" y="0">AL</tspan><tspan x="39.17" y="0" style="letter-spacing:-0.037109375em">L</tspan><tspan x="43.84" y="0" xml:space="preserve"> 64 bytes of each cache line</tspan></text><text transform="translate(1000 495)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">• Perfect spatial locality - no data waste</text><text transform="translate(1000 510)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">Cache E<tspan x="34.52" y="0" style="letter-spacing:-0.01806640625em">f</tspan><tspan x="36.86" y="0">ficiency: ~95%</tspan></text><text transform="translate(1000 525)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialMT, Arial">Single cache miss loads useful data</text></svg>