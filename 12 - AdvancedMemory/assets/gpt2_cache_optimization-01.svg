<svg id="a8b7387b-60c2-4052-931b-98b0e012cad8" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1731.36 757.36"><text transform="translate(521.92 35)" style="isolation:isolate;font-size:18px;fill:#e8e8e8;font-family:Arial-BoldMT, Arial;font-weight:700">GP<tspan x="26.01" y="0" style="letter-spacing:-0.05517578125em">T</tspan><tspan x="36.01" y="0">-2 Memory Layout Optimization: Cache Hierarchy and Performance</tspan><tspan x="609.15" y="0" style="letter-spacing:-0.037109375em"> </tspan><tspan x="613.49" y="0">Analysis</tspan></text><path d="M471.68,60h788c3.31,0,6,3.47,6,7.74V439.45c0,4.27-2.69,7.74-6,7.74h-788c-3.31,0-6-3.47-6-7.74V67.74C465.68,63.47,468.37,60,471.68,60Z" style="fill:#e3f2fd;stroke:#2196f3;stroke-width:2px"/><text transform="translate(783.42 90)" style="isolation:isolate;font-size:16px;fill:#1976d2;font-family:Arial-BoldMT, Arial;font-weight:700">CPU Cache Hierarchy</text><rect x="765.68" y="110" width="200" height="60" style="fill:#42a5f5;stroke:#1976d2"/><text transform="translate(837.68 135)" style="isolation:isolate;font-size:12px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">CPU Core</text><text transform="translate(828.85 155)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialNarrow-Bold, Arial;font-weight:700">Processing Unit</text><rect x="735.68" y="225.83" width="260" height="40" style="fill:#66bb6a;stroke:#4caf50"/><text transform="translate(760.08 244.83)" style="isolation:isolate;font-size:11px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">L1 Cache: 48KB Data + 32KB Instruction</text><text transform="translate(766.59 257.83)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialNarrow-Bold, Arial;font-weight:700">1-2 cycles latency | Private per core</text><rect x="685.68" y="311.66" width="360" height="40" style="fill:#ff9800;stroke:#f57c00"/><text transform="translate(806.09 330.66)" style="isolation:isolate;font-size:11px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">L2 Cache: 2MB Unified</text><text transform="translate(759.19 343.66)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialNarrow-Bold, Arial;font-weight:700">10-15 cycles latency | Private per core</text><rect x="585.68" y="390" width="560" height="40" style="fill:#e91e63;stroke:#c2185b"/><text transform="translate(751.06 409)" style="isolation:isolate;font-size:11px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">L3 Cache: 504MB Shared (Intel Xeon 6980P)</text><text transform="translate(745.44 422)" style="isolation:isolate;font-size:9px;fill:#fff;font-family:ArialNarrow-Bold, Arial;font-weight:700">40-60 cycles latency | Shared across all cores</text><polygon points="858.68 202.72 865.68 182.72 872.68 202.72 858.68 202.72" style="fill:#2196f3"/><polygon points="858.68 300 865.68 280 872.68 300 858.68 300" style="fill:#2196f3"/><polygon points="858.68 383.32 865.68 363.32 872.68 383.32 858.68 383.32" style="fill:#2196f3"/><text transform="translate(925.68 540)" style="font-size:12px;font-family:MyriadPro-Regular, Myriad Pro"><tspan xml:space="preserve"> I can c</tspan><tspan x="33.7" y="0" style="letter-spacing:-0.010009765625em">r</tspan><tspan x="37.5" y="0" style="letter-spacing:0.00008138020833333333em">e</tspan><tspan x="43.51" y="0" style="letter-spacing:-0.004069010416666667em">a</tspan><tspan x="49.25" y="0" style="letter-spacing:-0.005940755208333333em">t</tspan><tspan x="53.15" y="0">e it visually based on the stru</tspan><tspan x="197.54" y="0" style="letter-spacing:0.012939453125em">c</tspan><tspan x="203.07" y="0">tu</tspan><tspan x="213.66" y="0" style="letter-spacing:-0.010009765625em">r</tspan><tspan x="217.46" y="0" style="letter-spacing:0.00008138020833333333em">e ab</tspan><tspan x="238.63" y="0" style="letter-spacing:-0.006998697916666667em">o</tspan><tspan x="245.13" y="0" style="letter-spacing:-0.009928385416666666em">v</tspan><tspan x="250.78" y="0" style="letter-spacing:-0.012044270833333334em">e</tspan><tspan x="256.65" y="0" style="letter-spacing:0.00008138020833333333em">.</tspan></text><path d="M21.68,466.11h1688c3.31,0,6,1.87,6,4.17V740.42c0,2.31-2.69,4.18-6,4.18H21.68c-3.31,0-6-1.87-6-4.18V470.28C15.68,468,18.37,466.11,21.68,466.11Z" style="fill:#f3e5f5;stroke:#9c27b0;stroke-width:2px"/><text transform="translate(672.16 496.11)" style="isolation:isolate;font-size:16px;fill:#7b1fa2;font-family:Arial-BoldMT, Arial;font-weight:700">Memory Layout Optimization: Cache Miss<tspan x="317.38" y="0" style="letter-spacing:-0.037109375em"> </tspan><tspan x="321.23" y="0">Analysis</tspan></text><rect x="45.68" y="516.11" width="800" height="196.83" style="fill:#ffcdd2;stroke:#f44336"/><text transform="translate(253.93 541.11)" style="isolation:isolate;font-size:14px;fill:#d32f2f;font-family:Arial-BoldMT, Arial;font-weight:700">Current<tspan x="50.56" y="0" style="letter-spacing:-0.037109375em"> </tspan><tspan x="53.93" y="0">Approach: Block-per-</tspan><tspan x="197.05" y="0" style="letter-spacing:-0.07421875em">T</tspan><tspan x="204.57" y="0">ensor (High Cache Misses)</tspan></text><rect x="65.68" y="556.11" width="180" height="30" style="fill:#3498db;stroke:#2980b9"/><text transform="translate(116.42 576.11)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialNarrow-Bold, Arial;font-weight:700">All QKV <tspan x="32.81" y="0" style="letter-spacing:-0.01416015625em">W</tspan><tspan x="40.41" y="0">eights</tspan></text><rect x="265.68" y="556.11" width="180" height="30" style="fill:#2ecc71;stroke:#27ae60"/><text transform="translate(308.35 576.11)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialNarrow-Bold, Arial;font-weight:700">All ML<tspan x="24.6" y="0" style="letter-spacing:-0.01416015625em">P</tspan><tspan x="29.93" y="0"> </tspan><tspan x="32.21" y="0" style="letter-spacing:-0.01416015625em">W</tspan><tspan x="39.8" y="0">eights</tspan></text><rect x="465.68" y="556.11" width="180" height="30" style="fill:#e74c3c;stroke:#c0392b"/><text transform="translate(512.6 576.11)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialNarrow-Bold, Arial;font-weight:700">All LayerNorm</text><rect x="665.68" y="556.11" width="160" height="30" style="fill:#f39c12;stroke:#e67e22"/><text transform="translate(704.4 576.11)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialNarrow-Bold, Arial;font-weight:700">All<tspan x="10.48" y="0" style="letter-spacing:-0.02978515625em"> </tspan><tspan x="12.46" y="0">Activations</tspan></text><text transform="translate(65.68 606.11)" style="isolation:isolate;font-size:11px;fill:#2c3e50;font-family:Arial-BoldMT, Arial;font-weight:700">Processing Layer 5:</text><rect x="65.68" y="616.11" width="760" height="15" style="fill:#ecf0f1;stroke:#bdc3c7"/><text transform="translate(386.06 628.11)" style="isolation:isolate;font-size:9px;fill:#7f8c8d;font-family:ArialNarrow-Bold, Arial;font-weight:700">64-byte Cache Line</text><rect x="115.68" y="636.11" width="20" height="15" style="fill:#e74c3c;stroke:#c0392b"/><text transform="translate(119.1 648.11)" style="isolation:isolate;font-size:8px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">L5</text><text transform="translate(65.68 666.11)" style="isolation:isolate;font-size:9px;fill:#2c3e50;font-family:ArialNarrow-Bold, Arial;font-weight:700">QK<tspan x="11.07" y="0" style="letter-spacing:-0.044921875em">V</tspan><tspan x="15.59" y="0">: Only 8 bytes used, 56 bytes wasted per cache line</tspan></text><rect x="315.68" y="636.11" width="20" height="15" style="fill:#e74c3c;stroke:#c0392b"/><text transform="translate(319.1 648.11)" style="isolation:isolate;font-size:8px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">L5</text><text transform="translate(265.68 666.11)" style="isolation:isolate;font-size:9px;fill:#2c3e50;font-family:ArialNarrow-Bold, Arial;font-weight:700">MLP: Jump to different memory region</text><rect x="515.68" y="636.11" width="20" height="15" style="fill:#e74c3c;stroke:#c0392b"/><text transform="translate(519.1 648.11)" style="isolation:isolate;font-size:8px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">L5</text><text transform="translate(465.68 666.11)" style="isolation:isolate;font-size:9px;fill:#2c3e50;font-family:ArialNarrow-Bold, Arial;font-weight:700">LayerNorm:<tspan x="41.41" y="0" style="letter-spacing:-0.02978515625em"> </tspan><tspan x="43.2" y="0">Another cache miss</tspan></text><text transform="translate(65.68 686.11)" style="isolation:isolate;font-size:10px;fill:#d32f2f;font-family:Arial-BoldMT, Arial;font-weight:700">Cache Efficiency: ~12-15% | Multiple cache misses per layer</text><rect x="887.38" y="516.11" width="800" height="196.83" style="fill:#c8e6c9;stroke:#4caf50"/><text transform="translate(1094.18 541.11)" style="isolation:isolate;font-size:14px;fill:#2e7d32;font-family:Arial-BoldMT, Arial;font-weight:700">Optimized<tspan x="67.67" y="0" style="letter-spacing:-0.037109375em"> </tspan><tspan x="71.04" y="0">Approach: Layer-by-Layer (Low Cache Misses)</tspan></text><rect x="905.68" y="556.11" width="150" height="30" style="fill:#42a5f5;stroke:#1976d2"/><text transform="translate(939.84 576.11)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">Layer 0 Data</text><rect x="1075.68" y="556.11" width="150" height="30" style="fill:#42a5f5;stroke:#1976d2"/><text transform="translate(1109.84 576.11)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">Layer 1 Data</text><rect x="1245.68" y="556.11" width="150" height="30" style="fill:#e91e63;stroke:#c2185b"/><text transform="translate(1284.41 576.11)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">Layer 5 Data</text><rect x="1415.68" y="556.11" width="150" height="30" style="fill:#42a5f5;stroke:#1976d2"/><text transform="translate(1443.44 576.11)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">Layer <tspan x="29.46" y="0" style="letter-spacing:-0.05517578125em">1</tspan><tspan x="34.47" y="0">1 Data</tspan></text><rect x="1245.68" y="596.11" width="150" height="80" style="fill:#fce4ec;stroke:#e91e63"/><text transform="translate(1282.67 611.11)" style="isolation:isolate;font-size:9px;fill:#2c3e50;font-family:Arial-BoldMT, Arial;font-weight:700">Layer 5 Contents:</text><text transform="translate(1255.68 626.11)" style="isolation:isolate;font-size:8px;fill:#2c3e50;font-family:Arial-BoldMT, Arial;font-weight:700">QKV <tspan x="19.56" y="0" style="letter-spacing:-0.01806640625em">W</tspan><tspan x="26.96" y="0">eights</tspan></text><text transform="translate(1255.68 641.11)" style="isolation:isolate;font-size:8px;fill:#2c3e50;font-family:Arial-BoldMT, Arial;font-weight:700">ML<tspan x="11.55" y="0" style="letter-spacing:-0.01806640625em">P</tspan><tspan x="16.74" y="0"> </tspan><tspan x="18.96" y="0" style="letter-spacing:-0.01806640625em">W</tspan><tspan x="26.37" y="0">eights</tspan></text><text transform="translate(1255.68 656.11)" style="isolation:isolate;font-size:8px;fill:#2c3e50;font-family:Arial-BoldMT, Arial;font-weight:700">LayerNorm</text><text transform="translate(1255.68 671.11)" style="isolation:isolate;font-size:8px;fill:#2c3e50;font-family:Arial-BoldMT, Arial;font-weight:700">Activations</text><polygon points="1400.68 625.61 1430.68 636.11 1400.68 646.61 1400.68 625.61" style="fill:#2196f3"/><polygon points="1213.06 625.61 1243.06 636.11 1213.06 646.61 1213.06 625.61" style="fill:#2196f3"/><polygon points="1058.43 625.61 1088.43 636.11 1058.43 646.61 1058.43 625.61" style="fill:#2196f3"/><text transform="translate(1194.42 691.11)" style="isolation:isolate;font-size:10px;fill:#2e7d32;font-family:Arial-BoldMT, Arial;font-weight:700">Sequential Memory<tspan x="91.69" y="0" style="letter-spacing:-0.037109375em"> </tspan><tspan x="94.1" y="0">Access: 90-95% Cache Efficiency</tspan></text></svg>