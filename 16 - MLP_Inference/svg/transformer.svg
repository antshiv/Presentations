<svg viewBox="0 0 1200 900" xmlns="http://www.w3.org/2000/svg">
  <!-- Dark background -->
  <rect width="1200" height="900" fill="#0d1117"/>
  
  <!-- Title -->
  <text x="600" y="50" font-family="Arial, sans-serif" font-size="36" font-weight="bold" text-anchor="middle" fill="#58a6ff">
    One Transformer Layer: The Full Picture
  </text>
  <text x="600" y="85" font-family="Arial, sans-serif" font-size="18" text-anchor="middle" fill="#8b949e">
    Complete Architecture with Residual Connections
  </text>
  
  <!-- Main Flow Diagram -->
  <g transform="translate(450, 120)">
    <!-- Input -->
    <rect x="0" y="0" width="200" height="50" fill="#1f2937" stroke="#58a6ff" stroke-width="2" rx="8"/>
    <text x="100" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#58a6ff">
      Input [T × D]
    </text>
    
    <!-- First Residual Branch -->
    <line x1="100" y1="50" x2="100" y2="100" stroke="#f0f6fc" stroke-width="2"/>
    <line x1="100" y1="75" x2="250" y2="75" stroke="#8b949e" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="280" y="70" font-family="monospace" font-size="12" fill="#8b949e">Residual</text>
    
    <!-- LayerNorm 1 -->
    <rect x="0" y="100" width="200" height="40" fill="#2d333b" stroke="#ffa657" stroke-width="2" rx="8"/>
    <text x="100" y="125" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#ffa657">
      LayerNorm
    </text>
    
    <!-- Attention -->
    <line x1="100" y1="140" x2="100" y2="170" stroke="#f0f6fc" stroke-width="2"/>
    <rect x="0" y="170" width="200" height="60" fill="#1f2937" stroke="#39d353" stroke-width="2" rx="8"/>
    <text x="100" y="195" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#39d353">
      Multi-Head Attention
    </text>
    <text x="100" y="215" font-family="monospace" font-size="10" text-anchor="middle" fill="#8b949e">
      Q·K^T → Softmax → ·V
    </text>
    
    <!-- Add & Norm -->
    <line x1="100" y1="230" x2="100" y2="260" stroke="#f0f6fc" stroke-width="2"/>
    <line x1="250" y1="75" x2="250" y2="260" stroke="#8b949e" stroke-width="2" stroke-dasharray="5,5"/>
    <circle cx="100" cy="260" r="15" fill="#2d333b" stroke="#f0f6fc" stroke-width="2"/>
    <text x="100" y="265" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" fill="#f0f6fc">+</text>
    <line x1="115" y1="260" x2="250" y2="260" stroke="#f0f6fc" stroke-width="2"/>
    
    <!-- Second Residual Branch -->
    <line x1="100" y1="275" x2="100" y2="320" stroke="#f0f6fc" stroke-width="2"/>
    <line x1="100" y1="295" x2="250" y2="295" stroke="#8b949e" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="280" y="290" font-family="monospace" font-size="12" fill="#8b949e">Residual</text>
    
    <!-- LayerNorm 2 -->
    <rect x="0" y="320" width="200" height="40" fill="#2d333b" stroke="#ffa657" stroke-width="2" rx="8"/>
    <text x="100" y="345" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#ffa657">
      LayerNorm
    </text>
    
    <!-- MLP -->
    <line x1="100" y1="360" x2="100" y2="390" stroke="#f0f6fc" stroke-width="2"/>
    <rect x="0" y="390" width="200" height="80" fill="#1f2937" stroke="#f85149" stroke-width="2" rx="8"/>
    <text x="100" y="415" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#f85149">
      MLP
    </text>
    <text x="100" y="435" font-family="monospace" font-size="10" text-anchor="middle" fill="#8b949e">
      FC1 (×4)
    </text>
    <text x="100" y="450" font-family="monospace" font-size="10" text-anchor="middle" fill="#8b949e">
      GELU
    </text>
    <text x="100" y="465" font-family="monospace" font-size="10" text-anchor="middle" fill="#8b949e">
      FC2 (÷4)
    </text>
    
    <!-- Add -->
    <line x1="100" y1="470" x2="100" y2="500" stroke="#f0f6fc" stroke-width="2"/>
    <line x1="250" y1="295" x2="250" y2="500" stroke="#8b949e" stroke-width="2" stroke-dasharray="5,5"/>
    <circle cx="100" cy="500" r="15" fill="#2d333b" stroke="#f0f6fc" stroke-width="2"/>
    <text x="100" y="505" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" fill="#f0f6fc">+</text>
    <line x1="115" y1="500" x2="250" y2="500" stroke="#f0f6fc" stroke-width="2"/>
    
    <!-- Output -->
    <line x1="100" y1="515" x2="100" y2="550" stroke="#f0f6fc" stroke-width="2"/>
    <rect x="0" y="550" width="200" height="50" fill="#1f2937" stroke="#58a6ff" stroke-width="2" rx="8"/>
    <text x="100" y="580" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#58a6ff">
      Output [T × D]
    </text>
  </g>
  
  <!-- Explanation Panel -->
  <g transform="translate(750, 200)">
    <rect x="0" y="0" width="400" height="400" fill="#161b22" stroke="#30363d" stroke-width="1" rx="10"/>
    <text x="20" y="35" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#f0f6fc">
      Why This Architecture Works:
    </text>
    
    <g transform="translate(30, 70)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#39d353">
        Attention: "What's relevant?"
      </text>
      <text x="15" y="25" font-family="monospace" font-size="12" fill="#8b949e">
        • Finds relationships
      </text>
      <text x="15" y="45" font-family="monospace" font-size="12" fill="#8b949e">
        • Global context
      </text>
      
      <text x="0" y="80" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f85149">
        MLP: "What does it mean?"
      </text>
      <text x="15" y="105" font-family="monospace" font-size="12" fill="#8b949e">
        • Pattern matching
      </text>
      <text x="15" y="125" font-family="monospace" font-size="12" fill="#8b949e">
        • Feature extraction
      </text>
      
      <text x="0" y="160" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#8b949e">
        Residuals: "Don't forget original"
      </text>
      <text x="15" y="185" font-family="monospace" font-size="12" fill="#8b949e">
        • Gradient highway
      </text>
      <text x="15" y="205" font-family="monospace" font-size="12" fill="#8b949e">
        • Identity shortcut
      </text>
      
      <text x="0" y="240" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffa657">
        LayerNorm: "Keep stable"
      </text>
      <text x="15" y="265" font-family="monospace" font-size="12" fill="#8b949e">
        • Prevents explosion
      </text>
      <text x="15" y="285" font-family="monospace" font-size="12" fill="#8b949e">
        • Normalizes activations
      </text>
    </g>
    
    <rect x="20" y="340" width="360" height="45" fill="#0d1117" stroke="#58a6ff" stroke-width="1" rx="5"/>
    <text x="200" y="360" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#58a6ff">
      Stack 12-96 layers = Deep reasoning
    </text>
    <text x="200" y="375" font-family="monospace" font-size="10" text-anchor="middle" fill="#8b949e">
      Each layer refines understanding
    </text>
  </g>
  
  <!-- Courtroom Layers Analogy -->
  <g transform="translate(150, 720)">
    <rect x="0" y="0" width="900" height="120" fill="#1f2937" stroke="#30363d" stroke-width="1" rx="10"/>
    <text x="20" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#f0f6fc">
      The Courtroom Model (12 Layers = 12 Trials):
    </text>
    
    <g transform="translate(40, 50)">
      <rect x="0" y="0" width="60" height="40" fill="#2d333b" stroke="#58a6ff" stroke-width="1" rx="5"/>
      <text x="30" y="25" font-family="monospace" font-size="10" text-anchor="middle" fill="#58a6ff">L1</text>
      
      <text x="70" y="15" font-family="monospace" font-size="11" fill="#39d353">Attention: "Initial evidence"</text>
      <text x="70" y="35" font-family="monospace" font-size="11" fill="#f85149">MLP: "First judgment"</text>
    </g>
    
    <text x="330" y="75" font-family="Arial, sans-serif" font-size="20" fill="#8b949e">→</text>
    
    <g transform="translate(380, 50)">
      <rect x="0" y="0" width="60" height="40" fill="#2d333b" stroke="#58a6ff" stroke-width="1" rx="5"/>
      <text x="30" y="25" font-family="monospace" font-size="10" text-anchor="middle" fill="#58a6ff">L2</text>
      
      <text x="70" y="15" font-family="monospace" font-size="11" fill="#39d353">Attention: "Refined evidence"</text>
      <text x="70" y="35" font-family="monospace" font-size="11" fill="#f85149">MLP: "Better judgment"</text>
    </g>
    
    <text x="650" y="75" font-family="monospace" font-size="14" fill="#8b949e">... →</text>
    
    <g transform="translate(720, 50)">
      <rect x="0" y="0" width="60" height="40" fill="#2d333b" stroke="#ffa657" stroke-width="2" rx="5"/>
      <text x="30" y="25" font-family="monospace" font-size="10" text-anchor="middle" fill="#ffa657">L12</text>
      <text x="70" y="25" font-family="monospace" font-size="11" fill="#ffa657">Final verdict!</text>
    </g>
  </g>
  
  <!-- ANTSHIV branding -->
  <text x="1100" y="880" font-family="monospace" font-size="12" fill="#30363d">ANTSHIV ROBOTICS | CPU LLM Series</text>
</svg>
