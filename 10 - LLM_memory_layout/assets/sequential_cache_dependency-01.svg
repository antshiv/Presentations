<svg id="b893edfe-7ca4-4dd9-aa56-9cadd3858075" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1400 575.19"><defs><pattern id="f289b82c-6e54-4286-b7bc-4c80e9a2bf33" data-name="cacheMissPattern" width="12" height="12" patternTransform="matrix(1, 0, 0, -1, 7, 1070)" patternUnits="userSpaceOnUse" viewBox="0 0 12 12"><rect width="12" height="12" style="fill:none"/><rect width="12" height="12" style="fill:#e74c3c"/><path d="M0,0,12,12M6-6,18,6M-6,6,6,18" style="stroke:#c0392b;stroke-width:2px"/></pattern><pattern id="e6b7c308-0263-4b1d-920c-6bf74c58a957" data-name="cacheHitPattern" width="12" height="12" patternTransform="matrix(1, 0, 0, -1, 7, 1070)" patternUnits="userSpaceOnUse" viewBox="0 0 12 12"><rect width="12" height="12" style="fill:none"/><rect width="12" height="12" style="fill:#2ed573"/><circle cx="6" cy="6" r="2" style="fill:#26de81"/></pattern></defs><text transform="translate(249.5 40)" style="isolation:isolate;font-size:28px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">Sequential Processing: Cache Dependencies in <tspan x="639.53" y="0" style="letter-spacing:-0.05517578125em">T</tspan><tspan x="655.09" y="0">ransformer Layers</tspan></text><text transform="translate(461.66 65)" style="isolation:isolate;font-size:16px;fill:#f39c12;font-family:ArialMT, Arial">Why Output → Input Dependencies Determine Cache Performance</text><text transform="translate(99.76 110)" style="isolation:isolate;font-size:20px;fill:#e74c3c;font-family:Arial-BoldMT, Arial;font-weight:700">Fragmented<tspan x="114.46" y="0" style="letter-spacing:-0.037109375em"> </tspan><tspan x="119.28" y="0">Activations: Cache Miss Chain Reaction</tspan></text><rect x="50" y="140" width="120" height="40" rx="4" style="fill:#3498db"/><text transform="translate(67.66 165)" style="isolation:isolate;font-size:12px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">Layer 0 Output</text><text transform="translate(72.76 190)" style="isolation:isolate;font-size:10px;fill:#95a5a6;font-family:ArialMT, Arial">Memory: 0x1000</text><rect x="200" y="140" width="80" height="40" rx="4" style="fill:#34495e;stroke:#7f8c8d;stroke-width:2px;stroke-dasharray:3,3"/><text transform="translate(215.54 165)" style="isolation:isolate;font-size:10px;fill:#7f8c8d;font-family:ArialMT, Arial">Other Data</text><rect x="310" y="140" width="120" height="40" rx="4" style="fill:#9b59b6"/><text transform="translate(327.66 165)" style="isolation:isolate;font-size:12px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">Layer 1 Output</text><text transform="translate(332.76 190)" style="isolation:isolate;font-size:10px;fill:#95a5a6;font-family:ArialMT, Arial">Memory: 0x5000</text><rect x="460" y="140" width="80" height="40" rx="4" style="fill:#34495e;stroke:#7f8c8d;stroke-width:2px;stroke-dasharray:3,3"/><text transform="translate(475.54 165)" style="isolation:isolate;font-size:10px;fill:#7f8c8d;font-family:ArialMT, Arial">Other Data</text><rect x="570" y="140" width="120" height="40" rx="4" style="fill:#e74c3c"/><text transform="translate(587.66 165)" style="isolation:isolate;font-size:12px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">Layer 2 Output</text><text transform="translate(592.76 190)" style="isolation:isolate;font-size:10px;fill:#95a5a6;font-family:ArialMT, Arial">Memory: 0x8000</text><text transform="translate(266.86 220)" style="isolation:isolate;font-size:16px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">Processing Sequence</text><rect x="50" y="240" width="600" height="60" rx="6" style="fill:#2c3e50;stroke:#3498db;stroke-width:2px"/><text transform="translate(60 260)" style="isolation:isolate;font-size:14px;fill:#3498db;font-family:Arial-BoldMT, Arial;font-weight:700">Step 1: Process Layer 0</text><text transform="translate(70 280)" style="isolation:isolate;font-size:12px;fill:#fff;font-family:ArialMT, Arial">✅ Cache loads Layer 0 output (0x1000)</text><text transform="translate(70 295)" style="isolation:isolate;font-size:12px;fill:#26de81;font-family:ArialMT, Arial">✅ Cache hit: Processing Layer 0 data</text><rect x="50" y="310" width="600" height="80" rx="6" style="fill:#2c3e50;stroke:#f39c12;stroke-width:2px"/><text transform="translate(60 330)" style="isolation:isolate;font-size:14px;fill:#f39c12;font-family:Arial-BoldMT, Arial;font-weight:700">Step 2: Layer 1 needs Layer 0 output as input</text><text transform="translate(70 350)" style="isolation:isolate;font-size:12px;fill:#fff;font-family:ArialMT, Arial">❌ Layer 1 processing space at di<tspan x="175.1" y="0" style="letter-spacing:-0.01806640625em">f</tspan><tspan x="178.21" y="0">ferent memory location</tspan></text><text transform="translate(70 365)" style="isolation:isolate;font-size:12px;fill:#e74c3c;font-family:ArialMT, Arial">❌ Cache miss: Must load from 0x5000 (evicts Layer 0 data!)</text><rect x="50" y="400" width="600" height="80" rx="6" style="fill:#2c3e50;stroke:#e74c3c;stroke-width:2px"/><text transform="translate(60 420)" style="isolation:isolate;font-size:14px;fill:#e74c3c;font-family:Arial-BoldMT, Arial;font-weight:700">Step 3: Layer 2 needs Layer 1 output</text><text transform="translate(70 440)" style="isolation:isolate;font-size:12px;fill:#fff;font-family:ArialMT, Arial">❌ Must reload Layer 1 output from memory (0x5000)</text><text transform="translate(70 455)" style="isolation:isolate;font-size:12px;fill:#e74c3c;font-family:ArialMT, Arial">❌ Cache miss again: Load from 0x8000</text><rect x="50" y="490" width="600" height="60" rx="6" style="stroke:#c0392b;stroke-width:3px;fill:url(#f289b82c-6e54-4286-b7bc-4c80e9a2bf33)"/><text transform="translate(260.65 515)" style="isolation:isolate;font-size:16px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">Cache State: Thrashing</text><text transform="translate(195.15 535)" style="isolation:isolate;font-size:14px;fill:#fff;font-family:ArialMT, Arial">60-80% miss rate: Data needed is always evicted!</text><text transform="translate(834.79 110)" style="isolation:isolate;font-size:20px;fill:#2ed573;font-family:Arial-BoldMT, Arial;font-weight:700">Contiguous<tspan x="111.08" y="0" style="letter-spacing:-0.037109375em"> </tspan><tspan x="115.9" y="0">Activations: Perfect Cache Chain</tspan></text><rect x="750" y="140" width="600" height="40" rx="4" style="stroke:#2ed573;stroke-width:3px;fill:url(#e6b7c308-0263-4b1d-920c-6bf74c58a957)"/><text transform="translate(800 155)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">L0 In</text><text transform="translate(850 155)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">L0 Out</text><text transform="translate(900 155)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">L1 In</text><text transform="translate(950 155)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">L1 Out</text><text transform="translate(1000 155)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">L2 In</text><text transform="translate(1050 155)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">L2 Out</text><text transform="translate(1100 155)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">L3 In</text><text transform="translate(1150 155)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">L3 Out</text><text transform="translate(1200 155)" style="isolation:isolate;font-size:10px;fill:#fff;font-family:ArialMT, Arial">Final</text><text transform="translate(945.09 192)" style="isolation:isolate;font-size:10px;fill:#95a5a6;font-family:ArialMT, Arial">Memory: 0x1000 → 0x1000 + size (contiguous)</text><text transform="translate(966.86 220)" style="isolation:isolate;font-size:16px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">Processing Sequence</text><rect x="750" y="240" width="600" height="60" rx="6" style="fill:#2c3e50;stroke:#2ed573;stroke-width:2px"/><text transform="translate(760 260)" style="isolation:isolate;font-size:14px;fill:#2ed573;font-family:Arial-BoldMT, Arial;font-weight:700">Step 1: Process Layer 0</text><text transform="translate(770 280)" style="isolation:isolate;font-size:12px;fill:#fff;font-family:ArialMT, Arial">✅ Cache loads Layer 0 data from o<tspan x="186.43" y="0" style="letter-spacing:-0.01806640625em">f</tspan><tspan x="189.55" y="0">fset 0</tspan></text><text transform="translate(770 295)" style="isolation:isolate;font-size:12px;fill:#26de81;font-family:ArialMT, Arial">✅ Prefetcher detects pattern, loads Layer 1 input (next 64 bytes)</text><rect x="750" y="310" width="600" height="80" rx="6" style="fill:#2c3e50;stroke:#26de81;stroke-width:2px"/><text transform="translate(760 330)" style="isolation:isolate;font-size:14px;fill:#26de81;font-family:Arial-BoldMT, Arial;font-weight:700">Step 2: Layer 1 processes Layer 0 output</text><text transform="translate(770 350)" style="isolation:isolate;font-size:12px;fill:#fff;font-family:ArialMT, Arial">✅ Layer 0 output → Layer 1 input (sequential, cache hit!)</text><text transform="translate(770 365)" style="isolation:isolate;font-size:12px;fill:#26de81;font-family:ArialMT, Arial">✅ Layer 1 output written to next sequential location</text><rect x="750" y="400" width="600" height="80" rx="6" style="fill:#2c3e50;stroke:#2ed573;stroke-width:2px"/><text transform="translate(760 420)" style="isolation:isolate;font-size:14px;fill:#2ed573;font-family:Arial-BoldMT, Arial;font-weight:700">Step 3: Every subsequent layer</text><text transform="translate(770 440)" style="isolation:isolate;font-size:12px;fill:#fff;font-family:ArialMT, Arial">✅ Layer N output → Layer N+1 input (perfect locality)</text><text transform="translate(770 455)" style="isolation:isolate;font-size:12px;fill:#26de81;font-family:ArialMT, Arial">✅ Cache prefetcher stays ahead of computation</text><rect x="750" y="490" width="600" height="60" rx="6" style="stroke:#229954;stroke-width:3px;fill:url(#e6b7c308-0263-4b1d-920c-6bf74c58a957)"/><text transform="translate(969.54 515)" style="isolation:isolate;font-size:16px;fill:#fff;font-family:Arial-BoldMT, Arial;font-weight:700">Cache State: Optimal</text><text transform="translate(895.33 535)" style="isolation:isolate;font-size:14px;fill:#fff;font-family:ArialMT, Arial">95%+ hit rate: Data flows perfectly through cache!</text></svg>