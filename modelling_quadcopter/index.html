<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>Modelling a Quadcopter</title>

	<link rel="stylesheet" href="../reveal.js/dist/reset.css">
	<link rel="stylesheet" href="../reveal.js/dist/reveal.css">
	<link rel="stylesheet" href="../reveal.js/dist/theme/black.css">

	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="../reveal.js/plugin/highlight/monokai.css">

	<script src="../reveal.js/plugin/math/math.js"></script>

	<!-- get bootstrap from cdn -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<img src="assets/quadcopter/2048w/quadcopter.png" alt="reveal.js logo"
					style="height: 180px; margin: 0 auto 4rem auto; background: transparent;" class="demo-logo">
				<h1>Modelling a Quadcopter</h1>
			</section>
			<section>
				<h2>What is a Quadcopter?</h2>
				<ul>
					<li class="fragment">
						A quadcopter is a multirotor helicopter that is lifted and propelled by four rotors.
					</li>
					<li class="fragment">
						Quadcopters are classified as rotorcraft, as opposed to fixed-wing aircraft, because their lift
						is generated by a set of rotors (vertically oriented propellers).
					</li>
					<li class="fragment">
						Quadcopters generally use two pairs of identical fixed pitched propellers; two clockwise (CW)
						and two counterclockwise (CCW).
					</li>
					<li class="fragment">
						These use independent variation of the speed of each rotor to achieve control.
					</li>
				</ul>
			</section>
			<section>
				<img src="assets/propellers/2048w/propeller.png" alt="reveal.js logo"
					style="height: 180px; margin: 0 auto 4rem auto; background: transparent;" class="demo-logo">
				<ul>
					<li class="fragment">
						Hover (up/down)
					</li>
					<li class="fragment">
						Pitch (forward/backward)
					</li>
					<li class="fragment">
						Roll (left/right)
					</li>
					<li class="fragment">
						Yaw (rotate left/right)
					</li>
				</ul>
			</section>
			<section>
				<div class="d-flex justify-content-space-between">
					<canvas id="myCanvas1" width="500" height="500" style="border:1px solid #000000;"></canvas>
					<canvas id="myCanvas2" width="500" height="500" style="border:1px solid #000000;"></canvas>
				</div>
			</section>
			<section>
				<h2>The Lorenz Equations</h2>
				\[\begin{aligned}
				\dot{x} &amp; = \sigma(y-x) \\
				\dot{y} &amp; = \rho x - y - xz \\
				\dot{z} &amp; = -\beta z + xy
				\end{aligned} \]
			</section>
		</div>
	</div>


	<script src="../reveal.js/dist/reveal.js"></script>
	<script src="../reveal.js/plugin/notes/notes.js"></script>
	<script src="../reveal.js/plugin/markdown/markdown.js"></script>
	<script src="../reveal.js/plugin/highlight/highlight.js"></script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,

			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
		});
	</script>
	<script>
		console.log('script loaded');
		const quadcopter = new Image();
		quadcopter.src = "assets/quadcopter/2048w/quadcopter.png";

		const propeller = new Image();
		propeller.src = "assets/propellers/2048w/propeller.png";
		
		function populateCanvas(canvas_id, image) {
			var canvas = document.getElementById(canvas_id);
			var context = canvas.getContext("2d");
			//var image = new Image();
			//image.src = "assets/propellers/2048w/propeller.png";
			image.onload = function () {
				const centerX = canvas.width / 2;
				const centerY = canvas.height / 2;

				// Initial rotation angle (in degrees)
				let rotationAngle = 0;

				console.log(image.src);
				//ctx.drawImage(propeller, 0, 0, 500, 500);
				//ctx.setTransform(1, 0, 0, 1, 0, 0);
				//ctx.rotate(PI / 4);
				context.drawImage(image, 0, 0, 250, 250);

				// Function to draw the image at the given angle
				function drawRotatedImage() {
					context.clearRect(0, 0, canvas.width, canvas.height);

					// Save the current context state
					context.save();

					// Set the transform origin to the center of the image
					context.translate(centerX, centerY);
					context.rotate((rotationAngle * Math.PI) / 180); // Convert degrees to radians

					// Draw the scaled image with the top-left corner at the center
					const scaleFactor = 0.2; // Scale factor to half the size
					const scaledWidth = image.width * scaleFactor;
					const scaledHeight = image.height * scaleFactor;

					// Draw the image with the top-left corner at the center
					//context.drawImage(image, -image.width / 2, -image.height / 2);

					context.drawImage(image, -scaledWidth / 2, -scaledHeight / 2, scaledWidth, scaledHeight);
					// Restore the original context state
					context.restore();
				};

				// Function to continuously rotate the image
				function animate() {
					rotationAngle -= 1; // Change the rotation speed here (1 degree per frame in this example)

					drawRotatedImage();
					requestAnimationFrame(animate);
				};

				// Start the animation
				animate();
			};
		};

		document.addEventListener("DOMContentLoaded", function (event) {
			populateCanvas('myCanvas1', quadcopter);
			populateCanvas('myCanvas2', propeller);

		});
	</script>

	<script>
		Reveal.initialize({ plugins: [RevealMath.KaTeX] });
	</script>
</body>

</html>